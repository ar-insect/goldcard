!function(a){function b(b,c){return parseInt(a.css(b.jquery?b[0]:b,c))||0}a.dimensions={version:"@VERSION"},a.each(["Height","Width"],function(c,d){a.fn["inner"+d]=function(){if(this[0]){var a="Height"==d?"Top":"Left",c="Height"==d?"Bottom":"Right";return b(this,d.toLowerCase())+b(this,"padding"+a)+b(this,"padding"+c)}},a.fn["outer"+d]=function(c){if(this[0]){var e="Height"==d?"Top":"Left",f="Height"==d?"Bottom":"Right";return c=a.extend({margin:!1},c||{}),b(this,d.toLowerCase())+b(this,"border"+e+"Width")+b(this,"border"+f+"Width")+b(this,"padding"+e)+b(this,"padding"+f)+(c.margin?b(this,"margin"+e)+b(this,"margin"+f):0)}}}),a.each(["Left","Top"],function(b,c){a.fn["scroll"+c]=function(b){return this[0]?void 0!=b?this.each(function(){this==window||this==document?window.scrollTo("Left"==c?b:a(window).scrollLeft(),"Top"==c?b:a(window).scrollTop()):this["scroll"+c]=b}):this[0]==window||this[0]==document?self["Left"==c?"pageXOffset":"pageYOffset"]||a.boxModel&&document.documentElement["scroll"+c]||document.body["scroll"+c]:this[0]["scroll"+c]:void 0}}),a.fn.extend({position:function(){var a,c,d,e,f=this[0];return f&&(d=this.offsetParent(),a=this.offset(),c=d.offset(),a.top-=b(f,"marginTop"),a.left-=b(f,"marginLeft"),c.top+=b(d,"borderTopWidth"),c.left+=b(d,"borderLeftWidth"),e={top:a.top-c.top,left:a.left-c.left}),e},offsetParent:function(){for(var b=this[0].offsetParent;b&&!/^body|html$/i.test(b.tagName)&&"static"==a.css(b,"position");)b=b.offsetParent;return a(b)}})}(jQuery),function(a){a.ui=a.ui||{},a.ui.accordion={},a.extend(a.ui.accordion,{defaults:{selectedClass:"selected",alwaysOpen:!0,animated:"slide",event:"click",header:"a",autoheight:!0},animations:{slide:function(b,c){if(b=a.extend({easing:"swing",duration:300},b,c),!b.toHide.size())return void b.toShow.animate({height:"show"},b);var d=b.toHide.height(),e=b.toShow.height(),f=e/d;b.toShow.css({height:0,overflow:"hidden"}).show(),b.toHide.filter(":hidden").each(b.complete).end().filter(":visible").animate({height:"hide"},{step:function(a){b.toShow.height((d-a)*f)},duration:b.duration,easing:b.easing,complete:b.complete})},bounceslide:function(a){this.slide(a,{easing:a.down?"bounceout":"swing",duration:a.down?1e3:200})},easeslide:function(a){this.slide(a,{easing:"easeinout",duration:700})}}}),a.fn.extend({accordion:function(b){function c(b){return void 0!=b?"number"==typeof b?i.filter(":eq("+b+")"):i.not(i.not(b)):b===!1?a("<div>"):i.filter(":eq(0)")}function d(c,d,e,f,g){var i=function(a){k=a?0:--k,k||(b.clearStyle&&c.add(d).css({height:"",overflow:""}),h.trigger("change",e))};k=0==d.size()?c.size():d.size(),b.animated?!b.alwaysOpen&&f?(c.slideToggle(b.animated),i(!0)):a.ui.accordion.animations[b.animated]({toShow:c,toHide:d,complete:i,down:g}):(!b.alwaysOpen&&f?c.toggle():(d.hide(),c.show()),i(!0))}function e(c){if(!c.target&&!b.alwaysOpen){j.parent().andSelf().toggleClass(b.selectedClass);var e=j.next(),f=j=a([]);return d(f,e),!1}var g=a(c.target);if(g.parents(b.header).length)for(;!g.is(b.header);)g=g.parent();var h=g[0]==j[0];if(k||b.alwaysOpen&&h||!g.is(b.header))return!1;j.parent().andSelf().toggleClass(b.selectedClass),h||g.parent().andSelf().addClass(b.selectedClass);var f=g.next(),e=j.next(),l=[g,j,f,e],m=i.index(j[0])>i.index(g[0]);return j=h?a([]):g,d(f,e,l,h,m),!1}function f(a,b){1!=arguments.length&&e({target:c(b)[0]})}if(!this.length)return this;if(b=a.extend({},a.ui.accordion.defaults,b),b.navigation){var g=this.find("a").filter(function(){return this.href==location.href});g.length&&(g.filter(b.header).length?b.active=g:(b.active=g.parent().parent().prev(),g.addClass("current")))}var h=this,i=h.find(b.header),j=c(b.active),k=0;if(b.fillSpace){var l=this.parent().height();i.each(function(){l-=a(this).outerHeight()});var m=0;i.next().each(function(){m=Math.max(m,a(this).innerHeight()-a(this).height())}).height(l-m)}else if(b.autoheight){var l=0;i.next().each(function(){l=Math.max(l,a(this).outerHeight())}).height(l)}return i.not(j||"").next().hide(),j.parent().andSelf().addClass(b.selectedClass),h.bind(b.event||"",e).bind("activate",f)},activate:function(a){return this.trigger("activate",[a])},unaccordion:function(){return this.find("*").andSelf().unbind().end().end()}})}(jQuery),Fader=function(a){this.element=a.element,this.elementID=a.elementID,this.style=a.style,this.num=a.num,this.maxMove=a.maxMove,this.finishNum="string",this.interval=a.interval||10,this.step=a.step||20,this.onFinish=a.onFinish,this.isFinish=!1,this.timer=null,this.method=this.num>=0,this.c=this.elementID?$("#"+this.elementID):this.element,this.run=function(){if(clearInterval(this.timer),this.fade(),this.isFinish)this.onFinish&&this.onFinish();else{var a=this;this.timer=setInterval(function(){a.run()},this.interval)}},this.fade=function(){"string"==this.finishNum&&(this.finishNum=(parseInt(this.c.css(this.style))||0)+this.num);var a=parseInt(this.c.css(this.style))||0;this.finishNum>a&&this.method?(a+=this.step,a>=0&&(this.finishNum=a=0)):this.finishNum<a&&!this.method&&(a-=this.step,-1*a>=this.maxMove&&(this.finishNum=a=-1*this.maxMove)),this.finishNum<=a&&this.method||this.finishNum>=a&&!this.method?(this.c.css(this.style,this.finishNum+"px"),this.isFinish=!0,this.finishNum="string"):this.c.css(this.style,a+"px")}},TabPanel=function(a){this.renderTo=a.renderTo||$(document.body),this.border=a.border,this.render="string"==typeof this.renderTo?$("#"+this.renderTo):this.renderTo,this.widthResizable=a.widthResizable,this.heightResizable=a.heightResizable,this.autoResizable=a.autoResizable?!0:!1,this.width=a.width||"100%",this.height=a.height||"100%",this.items=a.items,this.active=a.active||0,this.tabs=[],this.scrolled=!1,this.tabWidth=114,this.fixNum=2,this.scrollFinish=!0,this.maxLength=a.maxLength||-1,this.maxzindex=0,this.init()},TabPanel.prototype={init:function(){var a=this;this.autoResizable&&(this.widthResizable=this.heightResizable=!0,this.render.css("overflow","hidden"),$(window).resize(function(){window.setTimeout(function(){a.resize()},200)})),this.render.width(this.width),this.render.height(this.height);var b="none"!=this.border?2:0;this.tabpanel=$("<DIV></DIV>"),this.tabpanel.addClass("tabpanel"),this.tabpanel.width(this.render.width()-b),this.tabpanel.height(this.render.height()-b),this.render.append(this.tabpanel),this.tabpanel_tab_content=$("<DIV></DIV>"),this.tabpanel_tab_content.addClass("tabpanel_tab_content"),this.tabpanel_tab_content.appendTo(this.tabpanel),this.tabpanel_left_scroll=$("<DIV></DIV>"),this.tabpanel_left_scroll.bind("click",function(){a.moveLeft()}),this.tabpanel_left_scroll.addClass("tabpanel_left_scroll"),this.tabpanel_left_scroll.addClass("display_none"),this.tabpanel_left_scroll.bind("mouseover",function(){var a=$(this);a.addClass("tabpanel_scroll_over"),a.bind("mouseout",function(){a.unbind("mouseout"),a.removeClass("tabpanel_scroll_over")})}),this.tabpanel_left_scroll.appendTo(this.tabpanel_tab_content),this.tabpanel_right_scroll=$("<DIV></DIV>"),this.tabpanel_right_scroll.bind("click",function(){a.moveRight()}),this.tabpanel_right_scroll.addClass("tabpanel_right_scroll"),this.tabpanel_right_scroll.addClass("display_none"),this.tabpanel_right_scroll.bind("mouseover",function(){var a=$(this);a.addClass("tabpanel_scroll_over"),a.bind("mouseout",function(){a.unbind("mouseout"),a.removeClass("tabpanel_scroll_over")})}),this.tabpanel_right_scroll.appendTo(this.tabpanel_tab_content),this.tabpanel_move_content=$("<DIV></DIV>"),this.tabpanel_move_content.addClass("tabpanel_move_content"),this.tabpanel_move_content.appendTo(this.tabpanel_tab_content),this.tabpanel_mover=$("<UL></UL>"),this.tabpanel_mover.addClass("tabpanel_mover"),this.tabpanel_mover.appendTo(this.tabpanel_move_content),this.tabpanel_tab_spacer=$("<DIV></DIV>"),this.tabpanel_tab_spacer.addClass("tabpanel_tab_spacer"),this.tabpanel_tab_spacer.appendTo(this.tabpanel_tab_content),this.tabpanel_content=$("<DIV></DIV>"),this.tabpanel_content.addClass("tabpanel_content"),this.tabpanel_content.appendTo(this.tabpanel);var c=this.tabpanel.width(),d=this.tabpanel.height();"none"==this.border&&this.tabpanel.css("border","none"),this.tabpanel_tab_content.width(c),this.tabpanel_content.width(c),this.tabpanel_content.height(d-this.tabpanel_tab_content.get(0).offsetHeight),this.update();for(var e=0;e<this.items.length;e++)this.items[e].notExecuteMoveSee=!0,this.addTab(this.items[e]);this.active>=0&&this.show(this.active,!1)},moveLeft:function(){this.scrollFinish&&(this.disableScroll(),this.scrollFinish=!1,Fader.apply(this,new Array({element:this.tabpanel_mover,style:"marginLeft",num:this.tabWidth,maxMove:this.maxMove,onFinish:this.useableScroll})),this.run())},moveRight:function(){this.scrollFinish&&(this.disableScroll(),this.scrollFinish=!1,Fader.apply(this,new Array({element:this.tabpanel_mover,style:"marginLeft",num:-1*this.tabWidth,maxMove:this.maxMove,onFinish:this.useableScroll})),this.run())},moveToLeft:function(){if(this.scrolled&&this.scrollFinish){this.disableScroll(),this.scrollFinish=!1;var a=-1*parseInt(this.tabpanel_mover.css("marginLeft"));Fader.apply(this,new Array({element:this.tabpanel_mover,style:"marginLeft",num:a,maxMove:this.maxMove,interval:20,step:10>a/10?10:a/10,onFinish:this.useableScroll})),this.run()}},moveToRight:function(){if(this.scrolled&&this.scrollFinish){this.disableScroll(),this.scrollFinish=!1;var a=-1*parseInt(this.tabpanel_mover.css("marginLeft")),b=this.tabpanel_mover.children().length*this.tabWidth,c=this.tabpanel_move_content.width(),d=-1*(b-c-a+this.fixNum);Fader.apply(this,new Array({element:this.tabpanel_mover,style:"marginLeft",num:d,maxMove:this.maxMove,step:10>-1*d/10?10:-1*d/10,onFinish:this.useableScroll})),this.run()}},moveToSee:function(a){if(this.scrolled){var b,c=this.tabWidth*a,d=parseInt(this.tabpanel_mover.css("marginLeft"));0>=d?(b=-1*(d+c),-1*(b+d)>=this.maxMove?this.moveToRight():(this.disableScroll(),this.scrollFinish=!1,Fader.apply(this,new Array({element:this.tabpanel_mover,style:"marginLeft",num:b,maxMove:this.maxMove,step:10>b/10?10:b/10,onFinish:this.useableScroll})),this.run())):(b=-1*(c-d),-1*b>=this.maxMove?this.moveToRight():(this.disableScroll(),this.scrollFinish=!1,Fader.apply(this,new Array({element:this.tabpanel_mover,style:"marginLeft",num:b,maxMove:this.maxMove,onFinish:this.useableScroll})),this.run()))}},disableScroll:function(){this.tabpanel_left_scroll.addClass("tabpanel_left_scroll_disabled"),this.tabpanel_left_scroll.attr("disabled",!0),this.tabpanel_right_scroll.addClass("tabpanel_right_scroll_disabled"),this.tabpanel_right_scroll.attr("disabled",!0)},useableScroll:function(){var a=this;this.scrolled&&(0==parseInt(a.tabpanel_mover.css("marginLeft"))?(a.tabpanel_left_scroll.addClass("tabpanel_left_scroll_disabled"),a.tabpanel_left_scroll.attr("disabled",!0),a.tabpanel_right_scroll.removeClass("tabpanel_right_scroll_disabled"),a.tabpanel_right_scroll.removeAttr("disabled")):-1*parseInt(a.tabpanel_mover.css("marginLeft"))==a.maxMove?(a.tabpanel_left_scroll.removeClass("tabpanel_left_scroll_disabled"),a.tabpanel_left_scroll.removeAttr("disabled",!0),a.tabpanel_right_scroll.addClass("tabpanel_right_scroll_disabled"),a.tabpanel_right_scroll.attr("disabled")):(a.tabpanel_left_scroll.removeClass("tabpanel_left_scroll_disabled"),a.tabpanel_left_scroll.removeAttr("disabled",!0),a.tabpanel_right_scroll.removeClass("tabpanel_right_scroll_disabled"),a.tabpanel_right_scroll.removeAttr("disabled"))),a.scrollFinish=!0},update:function(){var a=this.tabpanel_tab_content.width();this.scrolled&&(a-=this.tabpanel_left_scroll.width()+this.tabpanel_right_scroll.width()),this.tabpanel_move_content.width(a),this.maxMove=this.tabpanel_mover.children().length*this.tabWidth-a+this.fixNum},showScroll:function(){var a=this.tabpanel_mover.children().length*this.tabWidth,b=this.tabpanel_tab_content.width();a>b&&!this.scrolled?(this.tabpanel_move_content.addClass("tabpanel_move_content_scroll"),this.tabpanel_left_scroll.removeClass("display_none"),this.tabpanel_right_scroll.removeClass("display_none"),this.scrolled=!0):b>a&&this.scrolled&&(this.moveToLeft(),this.tabpanel_move_content.removeClass("tabpanel_move_content_scroll"),this.tabpanel_left_scroll.addClass("display_none"),this.tabpanel_right_scroll.addClass("display_none"),this.scrolled=!1,this.scrollFinish=!0)},addTab:function(a){if(-1!=this.maxLength&&this.maxLength<=this.tabs.length)return!1;if(a.id=a.id||Math.uuid(),$("#"+a.id).length>0)this.show(a.id,!1);else if(this.scrollFinish){var b=this,c=$("<LI></LI>");c.attr("id",a.id),c.appendTo(this.tabpanel_mover);var d=$("<DIV></DIV>");d.text(a.title),d.appendTo(c);var e=0==a.closable?0:5;a.icon?(d.addClass("icon_title"),d.css("background-image",'url("'+a.icon+'")'),d.width()>this.tabWidth-35-e&&(d.width(this.tabWidth-50-e),d.attr("title",a.title),c.append("<DIV>...</DIV>"))):(d.addClass("title"),d.width()>this.tabWidth-19-e&&(d.width(this.tabWidth-30-e),d.attr("title",a.title),c.append("<DIV>...</DIV>")));var f=$("<DIV></DIV>");f.addClass("closer"),f.attr("title","Close tab"),f.appendTo(c);var g=$("<DIV></DIV>");g.addClass("html_content"),g.appendTo(this.tabpanel_content);var h=(g.find("iframe"),this.tabpanel_mover.children().index(this.tabpanel_mover.find(".active")[0]));0>h&&(h=0),this.tabs.length>h?a.preTabId=this.tabs[h].id:a.preTabId="",a.tab=c,a.title=d,a.closer=f,a.content=g,a.disable=void 0==a.disable?!1:a.disable,a.closable=void 0==a.closable?!0:a.closable,0==a.closable&&f.addClass("display_none"),1==a.disabled&&(c.attr("disabled",!0),d.addClass(".disabled")),this.tabs.push(a),c.bind("click",function(a){return function(){b.show(a,!1)}}(this.tabs.length-1)),f.bind("click",function(a){return function(){b.kill(a)}}(this.tabs.length-1)),a.lazyload||this.show(this.tabs.length-1,a.notExecuteMoveSee),this.showScroll(),this.update(),a.lazyload||a.notExecuteMoveSee||this.moveToRight()}},getTabPosision:function(a){if("string"==typeof a)for(var b=0;b<this.tabs.length;b++)if(a==this.tabs[b].id){a=b;break}return a},refresh:function(a){if(a=this.getTabPosision(a),"string"==typeof a)return!1;var b=this.tabs[a].content.find("iframe");if(b.length>0){var c=this.tabs[a].id+"Frame";this.iterateFlush(window.frames[c])}},iterateFlush:function(a){var b=a.contentWindow,c=a.contentDocument||b.document;if(b.frames.length>0)for(var d=0;d<b.frames.length;d++)this.iterateFlush(b.frames[d]);else if(c.forms.length>0)for(var d=0;d<c.forms.length;d++)try{c.forms[d].submit()}catch(e){b.location.reload()}else b.location.reload()},show:function(a,b){return this.tabs.length<1?!1:(a=this.getTabPosision(a),"string"==typeof a&&(a=0),void(this.scrollFinish&&(a>=this.tabs.length&&(a=0),this.tabs[a].content.css("z-index",++this.maxzindex),this.tabs[a].tab.hasClass("active")?b||this.moveToSee(a):(""==this.tabs[a].content.html()&&this.tabs[a].content.html(this.tabs[a].html),this.tabpanel_mover.find(".active").removeClass("active"),this.tabs[a].tab.addClass("active"),b||this.moveToSee(a)))))},kill:function(a){var b=this;a=this.getTabPosision(a);var c=this.tabs[a].preTabId;this.tabs[a].closer.remove(),this.tabs[a].title.remove(),this.tabs[a].tab.remove(),this.tabs[a].content.remove();var d=this.tabs.splice(a,1);$.isFunction(this.killCallback)&&this.killCallback.call(this,d);for(var e=0;e<this.tabs.length;e++)this.tabs[e].tab.unbind("click"),this.tabs[e].tab.bind("click",function(a){return function(){b.show(a,!1)}}(e)),this.tabs[e].closer.unbind("click"),this.tabs[e].closer.bind("click",function(a){return function(){b.kill(a)}}(e));this.update(),this.showScroll(),this.show(c,!1)},getTabsCount:function(){return this.tabs.length},setTitle:function(a,b){a=this.getTabPosision(a),a<this.tabs.length&&this.tabs[a].title.text(b)},getTitle:function(a){return a=this.getTabPosision(a),this.tabs[a].title.text()},setContent:function(a,b){a=this.getTabPosision(a),a<this.tabs.length&&this.tabs[a].content.html(b)},getContent:function(a){return a=this.getTabPosision(a),this.tabs[a].content.html()},setDisable:function(a,b){a=this.getTabPosision(a),a<this.tabs.length&&(this.tabs[a].disable=b,b?(this.tabs[a].tab.attr("disabled",!0),this.tabs[a].title.addClass(".disabled")):(this.tabs[a].tab.removeAttr("disabled"),this.tabs[a].title.removeClass(".disabled")))},getDisable:function(a){return a=this.getTabPosision(a),this.tabs[a].disable},setClosable:function(a,b){a=this.getTabPosision(a),a<this.tabs.length&&(this.tabs[a].closable=b,b?this.tabs[a].closer.addClass("display_none"):(this.tabs[a].closer.addClass("closer"),this.tabs[a].closer.removeClass("display_none")))},getClosable:function(a){return a=this.getTabPosision(a),this.tabs[a].closable},getActiveIndex:function(){return this.tabpanel_mover.children().index(this.tabpanel_mover.find(".active")[0])},getActiveTab:function(){var a=this.tabpanel_mover.children().index(this.tabpanel_mover.find(".active")[0]);return this.tabs.length>a?this.tabs[a]:null},resize:function(){var a="none"==this.border?0:2;this.widthResizable&&(this.width=this.render.width(),this.tabpanel.width(this.width-a),this.tabpanel_tab_content.width(this.width-a),this.tabpanel_content.width(this.width-a)),this.heightResizable&&(this.height=this.render.height(),this.tabpanel.height(this.height-a),this.tabpanel_content.height(this.height-this.tabpanel_tab_content.get(0).offsetHeight)),this.showScroll(),this.useableScroll(),this.update();var b=this;setTimeout(function(){b.moveToSee(b.getActiveIndex())},200)},setRenderWH:function(a){a&&(void 0!=a.width&&this.render.width(a.width),void 0!=a.height&&this.render.height(a.height),this.resize())}},Math.uuid=function(){var a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");return function(b,c){var d=a,e=[],f=Math.random;if(c=c||d.length,b)for(var g=0;b>g;g++)e[g]=d[0|f()*c];else{var h;for(e[8]=e[13]=e[18]=e[23]="-",e[14]="4",g=0;36>g;g++)e[g]||(h=0|16*f(),e[g]=d[19==g?3&h|8:15&h])}return e.join("")}}();var randomUUID=Math.uuid;window.jQuery&&$(document).ready(function(){$("ul.drawers").accordion({header:"H2.drawer-handle",selectedClass:"open",event:"click"});var a,b={},c={},d="PANEL",e=1;a=new TabPanel({renderTo:"ui-tabs",width:"auto",border:"none",active:0,items:[]});var f=function(a){for(var b in c)if(a===b)return c[b];return null},g=function(a,b){c[a]=b},h=function(){for(var b=a.tabs,c=0,d=b.length;d>c;c++)a.setClosable(b[c].id,!1)};a.killCallback=function(b){var d=b[0].key;c[d]=null,1==this.tabs.length&&a.setClosable(this.tabs[0].id,!0)},$("#J_sidebox .drawer li a").on("click",function(c){c.preventDefault();var i,j,k=$(this).text()||"",l=$(this).attr("data-url"),m=$(this).attr("data-key");l&&m&&((j=f(m))?(a.show(a.getTabPosision(j.id),!1),a.refresh(j.id)):(i=d+e++,b={key:m,id:i,title:k,html:'<iframe src="'+l+'" id="'+i+'Frame" width="100%" height="100%" frameborder="0"></iframe>',closable:!0},a.addTab(b),g(m,a.getActiveTab())),a.tabs.length>1&&h())})});