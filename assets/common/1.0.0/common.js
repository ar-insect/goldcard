jQuery.fn.showLoading=function(a){var b,c={addClass:"",beforeShow:"",afterShow:"",hPos:"center",vPos:"center",indicatorZIndex:5001,overlayZIndex:5e3,parent:"",marginTop:0,marginLeft:0,overlayWidth:null,overlayHeight:null};jQuery.extend(c,a);var d=jQuery("<div></div>"),e=jQuery("<div></div>");b=c.indicatorID?c.indicatorID:jQuery(this).attr("id"),jQuery(d).attr("id","loading-indicator-"+b),jQuery(d).addClass("loading-indicator"),c.addClass&&jQuery(d).addClass(c.addClass),jQuery(e).css("display","none"),jQuery(document.body).append(e),jQuery(e).attr("id","loading-indicator-"+b+"-overlay"),jQuery(e).addClass("loading-indicator-overlay"),c.addClass&&jQuery(e).addClass(c.addClass+"-overlay");var f,g,h=jQuery(this).css("border-top-width"),i=jQuery(this).css("border-left-width");h=isNaN(parseInt(h))?0:h,i=isNaN(parseInt(i))?0:i;var j=jQuery(this).offset().left+parseInt(i),k=jQuery(this).offset().top+parseInt(h);f=null!==c.overlayWidth?c.overlayWidth:parseInt(jQuery(this).width())+parseInt(jQuery(this).css("padding-right"))+parseInt(jQuery(this).css("padding-left")),g=null!==c.overlayHeight?c.overlayWidth:parseInt(jQuery(this).height())+parseInt(jQuery(this).css("padding-top"))+parseInt(jQuery(this).css("padding-bottom")),jQuery(e).css("width",f.toString()+"px"),jQuery(e).css("height",g.toString()+"px"),jQuery(e).css("left",j.toString()+"px"),jQuery(e).css("position","absolute"),jQuery(e).css("top",k.toString()+"px"),jQuery(e).css("z-index",c.overlayZIndex),c.overlayCSS&&jQuery(e).css(c.overlayCSS),jQuery(d).css("display","none"),jQuery(document.body).append(d),jQuery(d).css("position","absolute"),jQuery(d).css("z-index",c.indicatorZIndex);var l=k;c.marginTop&&(l+=parseInt(c.marginTop));var m=j;c.marginLeft&&(m+=parseInt(c.marginTop)),"center"==c.hPos.toString().toLowerCase()?jQuery(d).css("left",(m+(jQuery(e).width()-parseInt(jQuery(d).width()))/2).toString()+"px"):"left"==c.hPos.toString().toLowerCase()?jQuery(d).css("left",(m+parseInt(jQuery(e).css("margin-left"))).toString()+"px"):"right"==c.hPos.toString().toLowerCase()?jQuery(d).css("left",(m+(jQuery(e).width()-parseInt(jQuery(d).width()))).toString()+"px"):jQuery(d).css("left",(m+parseInt(c.hPos)).toString()+"px"),"center"==c.vPos.toString().toLowerCase()?jQuery(d).css("top",(l+(jQuery(e).height()-parseInt(jQuery(d).height()))/2).toString()+"px"):"top"==c.vPos.toString().toLowerCase()?jQuery(d).css("top",l.toString()+"px"):"bottom"==c.vPos.toString().toLowerCase()?jQuery(d).css("top",(l+(jQuery(e).height()-parseInt(jQuery(d).height()))).toString()+"px"):jQuery(d).css("top",(l+parseInt(c.vPos)).toString()+"px"),c.css&&jQuery(d).css(c.css);var n={overlay:e,indicator:d,element:this};return"function"==typeof c.beforeShow&&c.beforeShow(n),jQuery(e).show(),jQuery(d).show(),"function"==typeof c.afterShow&&c.afterShow(n),this},jQuery.fn.hideLoading=function(a){var b={};return jQuery.extend(b,a),b.indicatorID?indicatorID=b.indicatorID:indicatorID=jQuery(this).attr("id"),jQuery(document.body).find("#loading-indicator-"+indicatorID).remove(),jQuery(document.body).find("#loading-indicator-"+indicatorID+"-overlay").remove(),this},function(a){"use strict";function b(){var a=document.createElement("mm"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}function c(b){return this.each(function(){var c=a(this),d=c.data("mm"),f=a.extend({},e.DEFAULTS,c.data(),"object"==typeof b&&b);d||c.data("mm",d=new e(this,f)),"string"==typeof b&&d[b]()})}a.fn.emulateTransitionEnd=function(b){var c=!1,e=this;a(this).one("mmTransitionEnd",function(){c=!0});var f=function(){c||a(e).trigger(d.end)};return setTimeout(f,b),this};var d=b();d&&(a.event.special.mmTransitionEnd={bindType:d.end,delegateType:d.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}});var e=function(b,c){this.$element=a(b),this.options=a.extend({},e.DEFAULTS,c),this.transitioning=null,this.init()};e.TRANSITION_DURATION=350,e.DEFAULTS={toggle:!0,doubleTapToGo:!1,activeClass:"active"},e.prototype.init=function(){var b=this,c=this.options.activeClass;this.$element.find("li."+c).has("ul").children("ul").addClass("collapse in"),this.$element.find("li").not("."+c).has("ul").children("ul").addClass("collapse"),this.options.doubleTapToGo&&this.$element.find("li."+c).has("ul").children("a").addClass("doubleTapToGo"),this.$element.find("li").has("ul").children("a").on("click.metisMenu",function(d){var e=a(this),f=e.parent("li"),g=f.children("ul");return d.preventDefault(),f.hasClass(c)?b.hide(g):b.show(g),b.options.doubleTapToGo&&b.doubleTapToGo(e)&&"#"!==e.attr("href")&&""!==e.attr("href")?(d.stopPropagation(),void(document.location=e.attr("href"))):void 0})},e.prototype.doubleTapToGo=function(a){var b=this.$element;return a.hasClass("doubleTapToGo")?(a.removeClass("doubleTapToGo"),!0):a.parent().children("ul").length?(b.find(".doubleTapToGo").removeClass("doubleTapToGo"),a.addClass("doubleTapToGo"),!1):void 0},e.prototype.show=function(b){var c=this.options.activeClass,f=a(b),g=f.parent("li");if(!this.transitioning&&!f.hasClass("in")){g.addClass(c),this.options.toggle&&this.hide(g.siblings().children("ul.in")),f.removeClass("collapse").addClass("collapsing").height(0),this.transitioning=1;var h=function(){f.removeClass("collapsing").addClass("collapse in").height(""),this.transitioning=0};return d?void f.one("mmTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(e.TRANSITION_DURATION).height(f[0].scrollHeight):h.call(this)}},e.prototype.hide=function(b){var c=this.options.activeClass,f=a(b);if(!this.transitioning&&f.hasClass("in")){f.parent("li").removeClass(c),f.height(f.height())[0].offsetHeight,f.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var g=function(){this.transitioning=0,f.removeClass("collapsing").addClass("collapse")};return d?void f.height(0).one("mmTransitionEnd",a.proxy(g,this)).emulateTransitionEnd(e.TRANSITION_DURATION):g.call(this)}};var f=a.fn.metisMenu;a.fn.metisMenu=c,a.fn.metisMenu.Constructor=e,a.fn.metisMenu.noConflict=function(){return a.fn.metisMenu=f,this}}(jQuery),function(a){var b={isloaded:function(){a(".ui-main").hideLoading()}};a(window).on("isloaded",b.isloaded),window.$&&a(document).ready(function(){a("#J_sidebar").metisMenu({doubleTapToGo:!0}),a(".ui-main").showLoading();var b,c={},d={},e="PANEL",f=1;b=new TabPanel({renderTo:"ui-tabs",width:"auto",border:"none",active:0,items:[{key:"",id:f++,title:'<i class="glyphicon glyphicon-home home"></i>首页',html:'<iframe src="/report/start" id="'+(e+f++)+'Frame" width="100%" height="100%" frameborder="0" onload="$(top).trigger(\'isloaded\')"></iframe>',closable:!1}]});var g=function(a){for(var b in d)if(a===b)return d[b];return null},h=function(a,b){d[a]=b},i=function(){for(var a=b.tabs,c=0,d=a.length;d>c;c++)b.setClosable(a[c].id,!1)};b.killCallback=function(a){var c=a[0].key;d[c]=null,1==this.tabs.length&&b.setClosable(this.tabs[0].id,!0)},a("#J_sidebar ul.collapse li a").on("click",function(d){d.preventDefault();var j,k,l=a(this).text()||"",m=a(this).attr("data-url"),n=a(this).attr("data-key");m&&n&&((k=g(n))?b.show(b.getTabPosision(k.id),!1):(a(".ui-main").showLoading(),j=e+f++,c={key:n,id:j,title:l,html:'<iframe src="'+m+'" id="'+j+'Frame" width="100%" height="100%" frameborder="0" onload="$(top).trigger(\'isloaded\')"></iframe>',closable:!0},b.addTab(c),h(n,b.getActiveTab())),b.tabs.length>1&&i())})})}(jQuery);